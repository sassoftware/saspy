

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation and configuration &mdash; saspy 3.1.8 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="saspy 3.1.8 documentation" href="index.html"/>
        <link rel="next" title="Getting started" href="getting-started.html"/>
        <link rel="prev" title="Overview" href="overview.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> saspy
          

          
          </a>

          
            
            
              <div class="version">
                3.1.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation and configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sascfg-personal-py">sascfg_personal.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sascfg-personal-py-details">sascfg_personal.py details</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stdio">STDIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stdio-over-ssh">STDIO over SSH</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iom-using-java">IOM using Java</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#remote">Remote</a></li>
<li class="toctree-l4"><a class="reference internal" href="#local">Local</a></li>
<li class="toctree-l4"><a class="reference internal" href="#iom-to-mvs-sas">IOM to MVS SAS</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#iom-using-com">IOM using COM</a></li>
<li class="toctree-l3"><a class="reference internal" href="#http">HTTP</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced-topics.html">Advanced topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="adding-procedures.html">Contributing new methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">saspy</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Installation and configuration</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/install.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installation-and-configuration">
<h1>Installation and configuration<a class="headerlink" href="#installation-and-configuration" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>This package installs just like any other Python package.
It is a pure Python package and works with Python 3.x
installations.  To install the latest version using <cite>pip</cite>, you execute the following:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">saspy</span>
</pre></div>
</div>
<p>or, for a specific release:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">sassoftware</span><span class="o">/</span><span class="n">saspy</span><span class="o">/</span><span class="n">releases</span><span class="o">/</span><span class="n">saspy</span><span class="o">-</span><span class="n">X</span><span class="o">.</span><span class="n">X</span><span class="o">.</span><span class="n">X</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
<p>or, for a given branch (put the name of the branch after &#64;):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">git</span><span class="o">+</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">sassoftware</span><span class="o">/</span><span class="n">saspy</span><span class="o">.</span><span class="n">git</span><span class="nd">@branchname</span>
</pre></div>
</div>
<p>To use this module after installation, you need to copy the example sascfg.py file to a
sascfg_personal.py and edit sascfg_personal.py per the instructions in the next section.</p>
<ul class="simple">
<li>If you run into any problems, see <a class="reference internal" href="troubleshooting.html"><span class="doc">Troubleshooting</span></a>.</li>
<li>If you have questions, open an issue at <a class="reference external" href="https://github.com/sassoftware/saspy/issues">https://github.com/sassoftware/saspy/issues</a>.</li>
</ul>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>This module can connect and start different kinds of SAS sessions. It can connect to SAS
on Unix, Mainframe, and Windows. It can connect to a local SAS session or remote session.
Because of the wide range of connection types, there are a number of different access methods
which are used to connect to different kinds of SAS sessions.</p>
<p>The current set of connection methods are as follows:</p>
<dl class="docutils">
<dt><a class="reference internal" href="#stdio">STDIO</a></dt>
<dd>This connection method is available on the Linux platform only. This
method enables you to connect to SAS on the same host as your Python process.</dd>
<dt><a class="reference internal" href="#stdio-over-ssh">STDIO over SSH</a></dt>
<dd>This connection method is also available on the Linux platform only. This
method can connect to SAS that is installed on a remote host, if you have passwordless
SSH configured for your Linux user account.</dd>
<dt><a class="reference internal" href="#iom-using-java">IOM using Java</a></dt>
<dd>The integrated object method (IOM) connection method supports SAS on any platform.
This method can make a local Windows connection and it is also the way to connect
to SAS Grid through SAS Grid Manager. This method can connect to a SAS Workspace
Server on any supported SAS platform.</dd>
<dt><a class="reference internal" href="#iom-using-com">IOM using COM</a></dt>
<dd>This connection method is for Windows clients connecting to a remote SAS 9.4 host. This
method takes advantage of the IOM access method, but does not require a Java dependency.
SAS Enterprise Guide or SAS Integration Technologies Client (a free download from SAS Support)
is required to install the SAS COM library on your client system.</dd>
<dt><a class="reference internal" href="#http">HTTP</a></dt>
<dd>This access mehtod uses http[s] to connect to the Compute Service (a micro service) of a Viya
instalation. This does not connet to SAS 9.4 via http. The Compute Service will start a
Compute Server using the SPRE image of MVA SAS that is installed in the Viya deployment.
This is roughly equivalent to a Workspace server via IOM, but in Viya with no SAS 9.4.</dd>
</dl>
<p>Though there are several connection methods available, a single configuration file
can be used to enable all the connection methods. The sample config file contains instructions and
examples, but this section goes into more detail to explain how to configure each
type of connection.</p>
<p>Depending upon how you did your installation, the sample sascfg.py file may be in different
locations on the file system:</p>
<ul class="simple">
<li>In a regular pip install, it is under the site-packages directory in the Python
installation.</li>
<li>If you cloned the repo or downloaded and extraced the repo to some directory and then installed,
it will be in that directory and maybe also copied to site-packages.</li>
</ul>
<p>If you are not sure where to look, then there is a very simple way to determine the location
of your saspy installation.</p>
<p>After installing, start Python and <code class="docutils literal"><span class="pre">import</span> <span class="pre">saspy</span></code>. Then, simply submit <code class="docutils literal"><span class="pre">saspy</span></code>.
Python will show you where it found the module (it will show the __init__.py file in that directory).
It is the directory that is the module, so the sascfg.py file is in that directory, same as __init__.py.</p>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="c1"># this is an example of a repo install on Windows:</span>

<span class="n">C</span><span class="p">:</span>\<span class="o">&gt;</span><span class="n">python</span>
<span class="n">Python</span> <span class="mf">3.6</span><span class="o">.</span><span class="mi">0</span> <span class="o">|</span><span class="n">Anaconda</span> <span class="n">custom</span> <span class="p">(</span><span class="mi">64</span><span class="o">-</span><span class="n">bit</span><span class="p">)</span><span class="o">|</span> <span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="n">Dec</span> <span class="mi">23</span> <span class="mi">2016</span><span class="p">,</span> <span class="mi">11</span><span class="p">:</span><span class="mi">57</span><span class="p">:</span><span class="mi">41</span><span class="p">)</span> <span class="p">[</span><span class="n">MSC</span> <span class="n">v</span><span class="o">.</span><span class="mi">1900</span> <span class="mi">64</span> <span class="n">bit</span> <span class="p">(</span><span class="n">AMD64</span><span class="p">)]</span> <span class="n">on</span> <span class="n">win32</span>
<span class="n">Type</span> <span class="s2">&quot;help&quot;</span><span class="p">,</span> <span class="s2">&quot;copyright&quot;</span><span class="p">,</span> <span class="s2">&quot;credits&quot;</span> <span class="ow">or</span> <span class="s2">&quot;license&quot;</span> <span class="k">for</span> <span class="n">more</span> <span class="n">information</span><span class="o">.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">saspy</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">saspy</span>
<span class="o">&lt;</span><span class="n">module</span> <span class="s1">&#39;saspy&#39;</span> <span class="kn">from</span> <span class="s1">&#39;C:</span><span class="se">\\</span><span class="s1">ProgramData</span><span class="se">\\</span><span class="s1">Anaconda3</span><span class="se">\\</span><span class="s1">lib</span><span class="se">\\</span><span class="s1">site-packages</span><span class="se">\\</span><span class="s1">saspy</span><span class="se">\\</span><span class="s1">__init__.py&#39;</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="n">So</span> <span class="n">sascfg</span><span class="o">.</span><span class="n">py</span> <span class="ow">is</span><span class="p">:</span> <span class="n">C</span><span class="p">:</span>\<span class="n">ProgramData</span>\<span class="n">Anaconda3</span>\<span class="n">lib</span>\<span class="n">site</span><span class="o">-</span><span class="n">packages</span>\<span class="n">saspy</span>\<span class="n">sascfg</span><span class="o">.</span><span class="n">py</span>


<span class="c1"># this is an example of a repo install on Linux:</span>

<span class="n">Linux</span><span class="o">-</span><span class="mi">1</span><span class="o">&gt;</span> <span class="n">python3</span><span class="o">.</span><span class="mi">5</span>
<span class="n">Python</span> <span class="mf">3.5</span><span class="o">.</span><span class="mi">1</span> <span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="n">Jan</span> <span class="mi">19</span> <span class="mi">2016</span><span class="p">,</span> <span class="mi">21</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">20</span><span class="p">)</span>
<span class="p">[</span><span class="n">GCC</span> <span class="mf">4.4</span><span class="o">.</span><span class="mi">7</span> <span class="mi">20120313</span> <span class="p">(</span><span class="n">Red</span> <span class="n">Hat</span> <span class="mf">4.4</span><span class="o">.</span><span class="mi">7</span><span class="o">-</span><span class="mi">16</span><span class="p">)]</span> <span class="n">on</span> <span class="n">linux</span>
<span class="n">Type</span> <span class="s2">&quot;help&quot;</span><span class="p">,</span> <span class="s2">&quot;copyright&quot;</span><span class="p">,</span> <span class="s2">&quot;credits&quot;</span> <span class="ow">or</span> <span class="s2">&quot;license&quot;</span> <span class="k">for</span> <span class="n">more</span> <span class="n">information</span><span class="o">.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">saspy</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">saspy</span>
<span class="o">&lt;</span><span class="n">module</span> <span class="s1">&#39;saspy&#39;</span> <span class="kn">from</span> <span class="s1">&#39;/opt/tom/github/saspy/saspy/__init__.py&#39;</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="n">So</span> <span class="n">sascfg</span><span class="o">.</span><span class="n">py</span> <span class="ow">is</span><span class="p">:</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">tom</span><span class="o">/</span><span class="n">github</span><span class="o">/</span><span class="n">saspy</span><span class="o">/</span><span class="n">saspy</span><span class="o">/</span><span class="n">sascfg</span><span class="o">.</span><span class="n">py</span>


<span class="c1"># this is an example of a PyPi install on Linux into site-packages:</span>

<span class="n">Linux</span><span class="o">-</span><span class="mi">1</span><span class="o">&gt;</span> <span class="n">python3</span><span class="o">.</span><span class="mi">5</span>
<span class="n">Python</span> <span class="mf">3.5</span><span class="o">.</span><span class="mi">1</span> <span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="n">Jan</span> <span class="mi">19</span> <span class="mi">2016</span><span class="p">,</span> <span class="mi">21</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">20</span><span class="p">)</span>
<span class="p">[</span><span class="n">GCC</span> <span class="mf">4.4</span><span class="o">.</span><span class="mi">7</span> <span class="mi">20120313</span> <span class="p">(</span><span class="n">Red</span> <span class="n">Hat</span> <span class="mf">4.4</span><span class="o">.</span><span class="mi">7</span><span class="o">-</span><span class="mi">16</span><span class="p">)]</span> <span class="n">on</span> <span class="n">linux</span>
<span class="n">Type</span> <span class="s2">&quot;help&quot;</span><span class="p">,</span> <span class="s2">&quot;copyright&quot;</span><span class="p">,</span> <span class="s2">&quot;credits&quot;</span> <span class="ow">or</span> <span class="s2">&quot;license&quot;</span> <span class="k">for</span> <span class="n">more</span> <span class="n">information</span><span class="o">.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">saspy</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">saspy</span>
<span class="o">&lt;</span><span class="n">module</span> <span class="s1">&#39;saspy&#39;</span> <span class="kn">from</span> <span class="s1">&#39;/usr/lib/python3.5/site-packages/saspy/__init__.py&#39;</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="n">So</span> <span class="n">sascfg</span><span class="o">.</span><span class="n">py</span> <span class="ow">is</span><span class="p">:</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="o">.</span><span class="mi">5</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">saspy</span><span class="o">/</span><span class="n">sascfg</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<div class="section" id="sascfg-personal-py">
<h3>sascfg_personal.py<a class="headerlink" href="#sascfg-personal-py" title="Permalink to this headline">¶</a></h3>
<p>Originally, sascfg.py was the config file saspy used. But, since the saspy.cfg file is in the saspy repo, it can be updated
on occasion and when you do an upgrade it will pull down the repo sascfg.py and replace the one
you&#8217;ve in your installation. If you used that file for your configuration, then you would need to keep
a copy elsewhere and then replace the new one with your copy after upgrading or pulling, if yours was replaced.</p>
<p>So, the sascfg.py file bacame the exampls file, and sascfg_personal.py is config file to edit and use.
This file doesn&#8217;t exist in the repo, so it will never be overwritten when you upgrade or pull.
saspy will always try to import sascfg_personal.py first, and only if that fails will it try to
import sascfg.py (only for backwaed compatibility).</p>
<p>So copy sascfg.py to sascfg_personal.py and put all of your specific configuration into the _personal
file. Note that the sascfg.py file has examples of all of the various kinds of connections you could use. You don&#8217;t need
all of that in your _personal version; only the parts you need for your situation. The next section
explains the minimum parts you would need.</p>
<p>Also note that this file does not have to live in the repo itself. It can be anywhere on the filesystem
as long as that location is accessible to python. If the path is in the python search path, then you&#8217;re good.
That includes being in the repo directory, of course, which is the most convenient (that&#8217;s where I have it!).
If it&#8217;s location isn&#8217;t in the python path, you can use the cfgfile=&#8217;&#8217; parm on the SASsession() method to point to it.</p>
<p><strong>New in 3.1.6</strong>: You can now place a sascfg_personal.py configuration file in your home directory. The following
path &#8220;~/.config/saspy/&#8221; will be searched for a sascfg_personal.py file.</p>
<p>The new search order will basically be the same as it has been, but with this new home config directory inserted
after the current dir and before the rest of the python path. The following will be the order in which the config file will
be found.</p>
<p>If you don&#8217;t specify cfgfile= on SASsession, then sascfg_personal.py will be found:</p>
<ol class="arabic simple">
<li>saspy install directory (same place as the sascfg.py examples file in to repo)</li>
<li>current dir (whatever that is; wherever you started python)</li>
<li>~/.config/saspy - the new directory being added in 3.1.5 (that works on windows too: think %HOMEPATH%\.config\saspy)</li>
<li>the rest of the directories in the python path</li>
<li>if not found, then sascfg.py in the saspy repo (only to support way, way, way back compatibility - don&#8217;t use this)</li>
</ol>
<p>Note that once this has been imported it will be the one config file used for the python session, as it&#8217;s imported by name
so it will be cached and that is what will be used even if imported again.</p>
<p>If you use the cfgfile= to specify a specific file, then that file will be used and no search path will matter.
Note that in the case of cfgfile=, you can use different files for different SASsession()&#8217;s in the python session.
Whatever file you specify for a given SASsession will be used as the config file for that session.</p>
<p>If the configuration file is in the search path described above, you can just create a session as follows:</p>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="n">sas</span> <span class="o">=</span> <span class="n">saspy</span><span class="o">.</span><span class="n">SASsession</span><span class="p">()</span>
</pre></div>
</div>
<p>If, however, it is not in any of those directories, then you can use the cfgfile= parameter in your SASsession() invocation to
specify its location:</p>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="n">sas</span> <span class="o">=</span> <span class="n">saspy</span><span class="o">.</span><span class="n">SASsession</span><span class="p">(</span><span class="n">cfgfile</span><span class="o">=</span><span class="s1">&#39;/some/path/to/your/config/sascfg_personal.py&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The python search path can be found by looking at the PYTHONPATH environment variable (if it&#8217;s set),
but more definitively by submitting the following:</p>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span>
</pre></div>
</div>
<p>There are also some new convenience methods and attributes in 3.1.6 to help in the case where you have multiple
sascfg_personal.py files.</p>
<p>First is the saspy.SAScfg attribute which will show you the sascfg_personal.py file that would be used
if you submitted SASsession(). This is found and set when you import saspy.</p>
<p>There is also a saspy.list_configs() method which shows you what sascfg_personal.py files are found in the
search order listed above, in that order.</p>
<p>Here&#8217;s an example showing these (I have one in the saspy install dir, current dir and the new ~/.config/saspy dir):</p>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="n">tom</span><span class="o">&gt;</span> <span class="n">pwd</span>
<span class="o">/</span><span class="n">u</span><span class="o">/</span><span class="n">sastpw</span>
<span class="n">tom</span><span class="o">&gt;</span> <span class="n">python3</span><span class="o">.</span><span class="mi">5</span>
<span class="n">Python</span> <span class="mf">3.5</span><span class="o">.</span><span class="mi">6</span> <span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="n">Nov</span> <span class="mi">16</span> <span class="mi">2018</span><span class="p">,</span> <span class="mi">15</span><span class="p">:</span><span class="mi">50</span><span class="p">:</span><span class="mi">39</span><span class="p">)</span>
<span class="p">[</span><span class="n">GCC</span> <span class="mf">4.4</span><span class="o">.</span><span class="mi">7</span> <span class="mi">20120313</span> <span class="p">(</span><span class="n">Red</span> <span class="n">Hat</span> <span class="mf">4.4</span><span class="o">.</span><span class="mi">7</span><span class="o">-</span><span class="mi">23</span><span class="p">)]</span> <span class="n">on</span> <span class="n">linux</span>
<span class="n">Type</span> <span class="s2">&quot;help&quot;</span><span class="p">,</span> <span class="s2">&quot;copyright&quot;</span><span class="p">,</span> <span class="s2">&quot;credits&quot;</span> <span class="ow">or</span> <span class="s2">&quot;license&quot;</span> <span class="k">for</span> <span class="n">more</span> <span class="n">information</span><span class="o">.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">sys</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">sys</span><span class="o">.</span><span class="n">path</span>
<span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;/usr/lib64/python35.zip&#39;</span><span class="p">,</span> <span class="s1">&#39;/usr/lib64/python3.5&#39;</span><span class="p">,</span> <span class="s1">&#39;/usr/lib64/python3.5/plat-linux&#39;</span><span class="p">,</span> <span class="s1">&#39;/usr/lib64/python3.5/lib-dynload&#39;</span><span class="p">,</span> <span class="s1">&#39;/usr/lib64/python3.5/site-packages&#39;</span><span class="p">,</span> <span class="s1">&#39;/usr/lib/python3.5/site-packages&#39;</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">saspy</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">saspy</span>
<span class="o">&lt;</span><span class="n">module</span> <span class="s1">&#39;saspy&#39;</span> <span class="kn">from</span> <span class="s1">&#39;/opt/tom/github/saspy/saspy/__init__.py&#39;</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">saspy</span><span class="o">.</span><span class="n">SAScfg</span>
<span class="s1">&#39;/opt/tom/github/saspy/saspy/sascfg_personal.py&#39;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">saspy</span><span class="o">.</span><span class="n">list_configs</span><span class="p">()</span>
<span class="p">[</span><span class="s1">&#39;/opt/tom/github/saspy/saspy/sascfg_personal.py&#39;</span><span class="p">,</span> <span class="s1">&#39;/u/sastpw/sascfg_personal.py&#39;</span><span class="p">,</span> <span class="s1">&#39;/u/sastpw/.config/saspy/sascfg_personal.py&#39;</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="sascfg-personal-py-details">
<h3>sascfg_personal.py details<a class="headerlink" href="#sascfg-personal-py-details" title="Permalink to this headline">¶</a></h3>
<p>There are three main parts to this configuration file.</p>
<blockquote>
<div><ol class="arabic simple">
<li>SAS_config_names</li>
<li>SAS_config_options</li>
<li>Configuration definitions</li>
</ol>
</div></blockquote>
<p>In reverse order, the configuration definitions are Python dictionaries. Each dictionary
has the settings for one connection method (STDIO, SSH, IOM, and so on) to a SAS session.
These values are defined in the following sections.</p>
<p>SAS_config_options has two options. The first option (lock_down) restricts (or allows) an end
users&#8217; ability to override settings in the configuration definitions by passing them as parameters
on the <code class="docutils literal"><span class="pre">SASsession()</span></code>. Each of the keys in the configuration definition can be passed in at
run time on the SASsession(). If lock_down is set to True, any keys defined in the configuration
definition cannot be overridden in SASsession(), Keys that are not specified in the Config Def, can be
specified at run time on the SASsession(). If set to False, any config def key can be specified
on the SASsession().</p>
<p>The second (verbose) controls the printing of some debug type messages.</p>
<p>SAS_config_names is the list of configuration definition names to make available to an
end user at connection time. Any configuration definitions that are not listed in
SAS_config_names are simply inaccessible by an end user. You can add several configuration
definitions in the file but not make them available by simply excluding the names from
the list. Also note that these names can be anything you want. The names of the example
configuration definitions we chosen to be self-documenting. There nothing special about &#8216;winlocal&#8217;,
it could be named Bob. But then it wouldn&#8217;t be obvious that it&#8217;s for a WINdows install running a LOCAL copy of SAS.</p>
<p>So, your sascfg_personal.py file only need a few things in it; not everything in the example sascfg.py file.
For example, if you had SAS installed on your Linux system, your sascfg_personal.py file may simply be the following:</p>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="n">SAS_config_names</span>   <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;mycfg&#39;</span><span class="p">]</span>
<span class="n">SAS_config_options</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;lock_down&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
                      <span class="s1">&#39;verbose&#39;</span>  <span class="p">:</span> <span class="bp">True</span>
                     <span class="p">}</span>
<span class="n">mycfg</span>              <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;saspath&#39;</span>  <span class="p">:</span> <span class="s1">&#39;/opt/sasinside/SASHome/SASFoundation/9.4/bin/sas_u8&#39;</span>
                     <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="stdio">
<h3>STDIO<a class="headerlink" href="#stdio" title="Permalink to this headline">¶</a></h3>
<p>This is the original access method. This works with Unix only,
because SAS on Windows platforms does not support line-mode style connections
(through stdin, stdout, stderr). This connection method is for a local
connection to SAS that is installed on the same host as Python.</p>
<p>There are only four keys for this configuration definition dictionary:</p>
<dl class="docutils">
<dt>saspath -</dt>
<dd>(Required) Path to SAS startup script</dd>
<dt>options -</dt>
<dd>SAS options to include in the start up command line. These <strong>must</strong> be a
Python list.</dd>
<dt>encoding -</dt>
<dd><p class="first">NOTE: as of saspy V2.4.2, you no longer need to set the encoding. SASpy
will determine the SAS session encoding and map that to the Python encoding for you.</p>
<p class="last">This is the Python encoding value that matches the SAS session encoding
of the SAS session to which you are connecting. The Python encoding
values can be found at <a class="reference external" href="https://docs.python.org/3.5/library/codecs.html#encodings-and-unicode">encodings-and-unicode</a>.
The three most common SAS encodings, UTF8, LATIN1, and WLATIN1 are the
default encodings for running SAS in Unicode, on Unix, and on Windows,
respectively. Those map to Python encoding values: utf8, latin1, and
windows-1252, respectively.</p>
</dd>
<dt>autoexec -</dt>
<dd>This is a string of SAS code that will be submitted upon establishing a connection.
You can use this to preassign libraries you always want available, or whatever you want.
Don&#8217;t confuse this with the autoexec option of SAS which specifies a sas program file to be run.
That is different. This is a string of SAS code saspy will submit after the session is created,
which would be after SAS already included any autoexec file if there was one.</dd>
<dt>lrecl -</dt>
<dd>An integer specifying the record length for transferring wide data sets from SAS to Data Frames.</dd>
<dt>display -</dt>
<dd>This is a new key to support Zeppelin (saspy V2.4.4). The values can be either &#8216;jupyter&#8217; or &#8216;zeppelin&#8217;,
or, as of version 3.1.7, &#8216;databricks&#8217;. The default when this is not specified is &#8216;jupyter&#8217;.
Jupyter uses IPython to render HTML, which is how saspy has always worked.
To support other Notebooks display methods, different display interface have to be added to saspy.
If you want to run saspy in Zeppelin, set this in your configuration definition: &#8216;display&#8217; : &#8216;zeppelin&#8217;,</dd>
</dl>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="n">default</span>  <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;saspath&#39;</span><span class="p">:</span> <span class="s1">&#39;/opt/sasinside/SASHome/SASFoundation/9.4/bin/sas_u8&#39;</span><span class="p">,</span>
            <span class="s1">&#39;options&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;-fullstimer&quot;</span><span class="p">,</span> <span class="s2">&quot;-autoexec&quot;</span><span class="p">,</span> <span class="s2">&quot;/user/tom/autoexec.sas&quot;</span><span class="p">],</span>
            <span class="s1">&#39;autoexec&#39;</span><span class="p">:</span> <span class="s2">&quot;libname mylib &#39;some/library/to/pre-assign&#39;;&quot;</span>
            <span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The trigger to use the STDIO connection method is the absence of any
trigger for the other access methods: not having <code class="docutils literal"><span class="pre">'ssh'</span></code> or <code class="docutils literal"><span class="pre">'java'</span></code>
keys in the configuration definition.</p>
</div>
</div>
<div class="section" id="stdio-over-ssh">
<h3>STDIO over SSH<a class="headerlink" href="#stdio-over-ssh" title="Permalink to this headline">¶</a></h3>
<p>This is the remote version of the original connection method. This also works
with Unix only, and it supports passwordless SSH to the Unix machine where SAS
is installed. It is up to you to make sure that user accounts have passwordless
SSH configured between the two systems. Google it, it&#8217;s not that difficult.</p>
<p>If you don&#8217;t already have this set up, you need to generate rsa keys. Starting
after version 2.2.9, you can specify an identity file (.pem file) instead by
providing the file path on the identity key. Either of these provide passwordless access.
If you have any trouble with this, you will find that adding -vvv to the command saspy
trys to run (run that yourself from a shell with -vvv added) will provide significant
diagnostics about how ssh is trying to authenticate. Something like the following:</p>
<p>/usr/bin/ssh -vvv hostname.to.connect.to</p>
<p>In addition to the keys for STDIO, there are two more keys to configure:</p>
<dl class="docutils">
<dt>ssh -</dt>
<dd>(Required) The ssh command to run (Linux execv requires a fully qualified
path. Even if the command is found in the PATH variable, it won&#8217;t be used.
Enter the fully qualified path.)</dd>
<dt>host -</dt>
<dd>(Required) The host to connect to. Enter a resolvable host name or IP address.</dd>
</dl>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="n">ssh</span>      <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;saspath&#39;</span> <span class="p">:</span> <span class="s1">&#39;/opt/sasinside/SASHome/SASFoundation/9.4/bin/sas_u8&#39;</span><span class="p">,</span>
            <span class="s1">&#39;ssh&#39;</span>     <span class="p">:</span> <span class="s1">&#39;/usr/bin/ssh&#39;</span><span class="p">,</span>
            <span class="s1">&#39;host&#39;</span>    <span class="p">:</span> <span class="s1">&#39;remote.linux.host&#39;</span><span class="p">,</span>
            <span class="s1">&#39;options&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;-fullstimer&quot;</span><span class="p">]</span>
           <span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">'ssh'</span></code> key is the trigger to use the STDIO over SSH connection
method.</p>
</div>
<p>To accomodate alternative SSH configurations, you may also provide any of the
following optional keys:</p>
<dl class="docutils">
<dt>identity -</dt>
<dd>(Optional: string) The path to the identity file to use. A .pem file.</dd>
<dt>port -</dt>
<dd>(Optional: integer) The ssh port of the remote machine (equivalent to invoking ssh with the <code class="docutils literal"><span class="pre">-p</span></code> option)</dd>
<dt>tunnel -</dt>
<dd>(Optional: integer) Certain methods of saspy require opening a local port and accepting a connection and data
streamed from the SAS instance to saspy. If the remote SAS server would not be able to reach ports on your client machine
due to a firewall or other security configuration, you may pass a port number to used for SAS to connect to on
the remote side, which will be forwarded to the local side (using the <code class="docutils literal"><span class="pre">-R</span></code> ssh option) so that the remote SAS
server can connect using this port.</dd>
<dt>rtunnel -</dt>
<dd>(Optional: integer) Certain methods of saspy require opening a remote port and allowing a connection to be made and
data streamed to the SAS server from saspy; the Reverse of the tunnel case. In these cases, saspy needs to provide
a port for the SAS server to use to accept a connection so data can be streamed to the SAs server.
This is simply the reverse of the tunnel case, where SAS creates the socket and saspy connects. This will use
the <code class="docutils literal"><span class="pre">-L</span></code> ssh option so that the saspy can connect to the remote SAS server on this port.</dd>
</dl>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="n">ssh</span>      <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;saspath&#39;</span> <span class="p">:</span> <span class="s1">&#39;/opt/sasinside/SASHome/SASFoundation/9.4/bin/sas_u8&#39;</span><span class="p">,</span>
            <span class="s1">&#39;ssh&#39;</span>     <span class="p">:</span> <span class="s1">&#39;/usr/bin/ssh&#39;</span><span class="p">,</span>
            <span class="s1">&#39;host&#39;</span>    <span class="p">:</span> <span class="s1">&#39;remote.linux.host&#39;</span><span class="p">,</span>
            <span class="s1">&#39;identity&#39;</span><span class="p">:</span> <span class="s1">&#39;/usr/home/.ssh/alt_id.pem&#39;</span><span class="p">,</span>
            <span class="s1">&#39;port&#39;</span>    <span class="p">:</span> <span class="mi">9922</span><span class="p">,</span>
            <span class="s1">&#39;tunnel&#39;</span>  <span class="p">:</span> <span class="mi">9911</span>
            <span class="s1">&#39;rtunnel&#39;</span> <span class="p">:</span> <span class="mi">9912</span>
           <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="iom-using-java">
<h3>IOM using Java<a class="headerlink" href="#iom-using-java" title="Permalink to this headline">¶</a></h3>
<p>This connection method opens many connectivity options. This method enables you to
connect to any Workspace server on any supported platform.</p>
<p>You can also use <a class="reference external" href="https://www.sas.com/en_us/software/foundation/grid-manager.html">SAS Grid Manager</a>
to connect to a SAS grid. This method, compared to STDIO over SSH, enables SAS Grid
Manager to control the distribution of connections to the various grid nodes
and integrates all the monitoring and administration that SAS Grid Manager provides.</p>
<p>The IOM connection method also enables you to connect to SAS from Windows (STDIO was Linux only).
The connection can be to a local SAS installation or a remote IOM Workspace server running
on any supported platform.</p>
<p>The IOM connection method requires the following:</p>
<ul class="simple">
<li>Java 7 or higher installed on your Client machine (where you&#8217;re running SASPy)</li>
<li>The SAS Java IOM Client (just the jars listed below; these can be copied to your client system from wherever your SAS install is)</li>
<li>Setting the CLASSPATH to access the SAS Java IOM Client JAR files.</li>
<li>Setting the CLASSPATH to include the the saspyiom.jar file (and the thirdparty jars for Java version 9 and higher).</li>
<li>Setting the CLASSPATH to include client side encryption jars, if you have encryption configured for your IOM</li>
</ul>
<p>The <code class="docutils literal"><span class="pre">'classpath'</span></code> key for the configuration definition requires a little additional
explanation before we get to further details. There are four (4) JAR files that are
required for the Java IOM Client. The JAR files are available from your existing SAS
installation.  There is one JAR file that is provided with this package:
saspyiom.jar. These five JAR files must be provided (fully qualified paths) in a
CLASSPATH environment variable. This is done in a very simple way in the sascfg_personal.py
file, like so:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># build out a local classpath variable to use below for Linux clients  CHANGE THE PATHS TO BE CORRECT FOR YOUR INSTALLATION</span>
<span class="n">cp</span>  <span class="o">=</span>  <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">Program Files</span><span class="se">\\</span><span class="s2">SASHome</span><span class="se">\\</span><span class="s2">SASDeploymentManager</span><span class="se">\\</span><span class="s2">9.4</span><span class="se">\\</span><span class="s2">products</span><span class="se">\\</span><span class="s2">deploywiz__94472__prt__xx__sp0__1</span><span class="se">\\</span><span class="s2">deploywiz</span><span class="se">\\</span><span class="s2">sas.svc.connection.jar&quot;</span>
<span class="n">cp</span> <span class="o">+=</span> <span class="s2">&quot;;C:</span><span class="se">\\</span><span class="s2">Program Files</span><span class="se">\\</span><span class="s2">SASHome</span><span class="se">\\</span><span class="s2">SASDeploymentManager</span><span class="se">\\</span><span class="s2">9.4</span><span class="se">\\</span><span class="s2">products</span><span class="se">\\</span><span class="s2">deploywiz__94472__prt__xx__sp0__1</span><span class="se">\\</span><span class="s2">deploywiz</span><span class="se">\\</span><span class="s2">log4j.jar&quot;</span>
<span class="n">cp</span> <span class="o">+=</span> <span class="s2">&quot;;C:</span><span class="se">\\</span><span class="s2">Program Files</span><span class="se">\\</span><span class="s2">SASHome</span><span class="se">\\</span><span class="s2">SASDeploymentManager</span><span class="se">\\</span><span class="s2">9.4</span><span class="se">\\</span><span class="s2">products</span><span class="se">\\</span><span class="s2">deploywiz__94472__prt__xx__sp0__1</span><span class="se">\\</span><span class="s2">deploywiz</span><span class="se">\\</span><span class="s2">sas.security.sspi.jar&quot;</span>
<span class="n">cp</span> <span class="o">+=</span> <span class="s2">&quot;;C:</span><span class="se">\\</span><span class="s2">Program Files</span><span class="se">\\</span><span class="s2">SASHome</span><span class="se">\\</span><span class="s2">SASDeploymentManager</span><span class="se">\\</span><span class="s2">9.4</span><span class="se">\\</span><span class="s2">products</span><span class="se">\\</span><span class="s2">deploywiz__94472__prt__xx__sp0__1</span><span class="se">\\</span><span class="s2">deploywiz</span><span class="se">\\</span><span class="s2">sas.core.jar&quot;</span>
<span class="n">cp</span> <span class="o">+=</span> <span class="s2">&quot;;C:</span><span class="se">\\</span><span class="s2">ProgramData</span><span class="se">\\</span><span class="s2">Anaconda3</span><span class="se">\\</span><span class="s2">Lib</span><span class="se">\\</span><span class="s2">site-packages</span><span class="se">\\</span><span class="s2">saspy</span><span class="se">\\</span><span class="s2">java</span><span class="se">\\</span><span class="s2">saspyiom.jar&quot;</span>

<span class="c1"># And, if you&#39;ve configured IOM to use Encryption, you need these client side jars.</span>
<span class="n">cp</span> <span class="o">+=</span> <span class="s2">&quot;;C:</span><span class="se">\\</span><span class="s2">Program Files</span><span class="se">\\</span><span class="s2">SASHome</span><span class="se">\\</span><span class="s2">SASVersionedJarRepository</span><span class="se">\\</span><span class="s2">eclipse</span><span class="se">\\</span><span class="s2">plugins</span><span class="se">\\</span><span class="s2">sas.rutil_904300.0.0.20150204190000_v940m3</span><span class="se">\\</span><span class="s2">sas.rutil.jar&quot;</span>
<span class="n">cp</span> <span class="o">+=</span> <span class="s2">&quot;;C:</span><span class="se">\\</span><span class="s2">Program Files</span><span class="se">\\</span><span class="s2">SASHome</span><span class="se">\\</span><span class="s2">SASVersionedJarRepository</span><span class="se">\\</span><span class="s2">eclipse</span><span class="se">\\</span><span class="s2">plugins</span><span class="se">\\</span><span class="s2">sas.rutil.nls_904300.0.0.20150204190000_v940m3</span><span class="se">\\</span><span class="s2">sas.rutil.nls.jar&quot;</span>
<span class="n">cp</span> <span class="o">+=</span> <span class="s2">&quot;;C:</span><span class="se">\\</span><span class="s2">Program Files</span><span class="se">\\</span><span class="s2">SASHome</span><span class="se">\\</span><span class="s2">SASVersionedJarRepository</span><span class="se">\\</span><span class="s2">eclipse</span><span class="se">\\</span><span class="s2">plugins</span><span class="se">\\</span><span class="s2">sastpj.rutil_6.1.0.0_SAS_20121211183517</span><span class="se">\\</span><span class="s2">sastpj.rutil.jar&quot;</span>


<span class="c1"># Java 10+ no longer provides CORBA (9 has it but doesn&#39;t load it by default). These jars provide the CORBA support</span>
<span class="c1"># that the IOM client needs. Add these to the classpath to work with the latest Java releases.</span>
<span class="c1"># These can even be in the classpath for Jave (7 or 8) that don&#39;t need them, with no problem.</span>
<span class="n">cp</span> <span class="o">+=</span> <span class="s2">&quot;;C:</span><span class="se">\\</span><span class="s2">ProgramData</span><span class="se">\\</span><span class="s2">Anaconda3</span><span class="se">\\</span><span class="s2">Lib</span><span class="se">\\</span><span class="s2">site-packages</span><span class="se">\\</span><span class="s2">saspy</span><span class="se">\\</span><span class="s2">java</span><span class="se">\\</span><span class="s2">thirdparty</span><span class="se">\\</span><span class="s2">glassfish-corba-internal-api.jar&quot;</span>
<span class="n">cp</span> <span class="o">+=</span> <span class="s2">&quot;;C:</span><span class="se">\\</span><span class="s2">ProgramData</span><span class="se">\\</span><span class="s2">Anaconda3</span><span class="se">\\</span><span class="s2">Lib</span><span class="se">\\</span><span class="s2">site-packages</span><span class="se">\\</span><span class="s2">saspy</span><span class="se">\\</span><span class="s2">java</span><span class="se">\\</span><span class="s2">thirdparty</span><span class="se">\\</span><span class="s2">glassfish-corba-omgapi.jar&quot;</span>
<span class="n">cp</span> <span class="o">+=</span> <span class="s2">&quot;;C:</span><span class="se">\\</span><span class="s2">ProgramData</span><span class="se">\\</span><span class="s2">Anaconda3</span><span class="se">\\</span><span class="s2">Lib</span><span class="se">\\</span><span class="s2">site-packages</span><span class="se">\\</span><span class="s2">saspy</span><span class="se">\\</span><span class="s2">java</span><span class="se">\\</span><span class="s2">thirdparty</span><span class="se">\\</span><span class="s2">glassfish-corba-orb.jar&quot;</span>
<span class="n">cp</span> <span class="o">+=</span> <span class="s2">&quot;;C:</span><span class="se">\\</span><span class="s2">ProgramData</span><span class="se">\\</span><span class="s2">Anaconda3</span><span class="se">\\</span><span class="s2">Lib</span><span class="se">\\</span><span class="s2">site-packages</span><span class="se">\\</span><span class="s2">saspy</span><span class="se">\\</span><span class="s2">java</span><span class="se">\\</span><span class="s2">thirdparty</span><span class="se">\\</span><span class="s2">pfl-basic.jar&quot;</span>
<span class="n">cp</span> <span class="o">+=</span> <span class="s2">&quot;;C:</span><span class="se">\\</span><span class="s2">ProgramData</span><span class="se">\\</span><span class="s2">Anaconda3</span><span class="se">\\</span><span class="s2">Lib</span><span class="se">\\</span><span class="s2">site-packages</span><span class="se">\\</span><span class="s2">saspy</span><span class="se">\\</span><span class="s2">java</span><span class="se">\\</span><span class="s2">thirdparty</span><span class="se">\\</span><span class="s2">pfl-tf.jar&quot;</span>
</pre></div>
</div>
<p>And then simply refer to the <code class="docutils literal"><span class="pre">cp</span></code> variable in the configuration definition:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s1">&#39;classpath&#39;</span> <span class="p">:</span> <span class="n">cp</span><span class="p">,</span>
</pre></div>
</div>
<p>Also worth noting: these five JAR files are compatible with both Windows and Unix client systems. So you can copy the jars from whatever system
SAS is installed on, to your client (where python is running), even if one is Unix and the other is Windows (either way).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you have a \u or \U in your classpath string, like: &#8220;c:\User\sastpw\...&#8217;, you will have to use either
a double backslash instead, like \\u or \\U (&#8220;c:\\User\sastpw\...&#8217;) or mark the string as raw (not
unicode) with a r prefix, like r&#8221;C:\User\sastpw\...&#8221;
or else you will get an error like this: SyntaxError: (unicode error) &#8216;unicodeescape&#8217; codec can&#8217;t decode
bytes in position 3-4: truncated UXXXXXXXX escape</p>
</div>
<p>This following &#8216;fix&#8217; for Java 9 is not longer needed, and it didn&#8217;t solve Java 10 or 11. See the thirdparty jars above
to solve the missing CORBA in any of the Java releases.</p>
<p>It has been reported to me that Java9 no longer includes CORBA in it&#8217;s default search path. CORBA is a requirement for
the IOM Client. This can easily be added back in using the &#8216;javaparms&#8217; configuration key (defined below), as follows.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;javaparms&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;--add-modules=java.corba&quot;</span><span class="p">],</span>   <span class="c1"># NO LONGER NEEDED - See &#39;classpath&#39; above for solution</span>
</pre></div>
</div>
<p>The IOM access method now has support for getting the required user/password from an authinfo file in the user&#8217;s home directory
instead of prompting for it. On linux, the file is named .authinfo and on windows, it&#8217;s _authinfo. The format of the line in the authinfo file is
as follows. The first value is the authkey value you specify for <cite>authkey</cite>. Next is the &#8216;user&#8217; key followed by the value (the user id)
and then &#8216;password&#8217; key followed by its value (the user&#8217;s password). Note that there are permission rules for this file. On linux the file must
have permissions of 600, only the user can read or write the file. On Windows, the file should be equally locked down to where only the owner
can read and write it.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">authkey</span> <span class="n">user</span> <span class="n">omr_user_id</span> <span class="n">password</span> <span class="n">omr_user_password</span>
</pre></div>
</div>
<p>So, for a Configuration Definition that specifies the following authkey:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s1">&#39;authkey&#39;</span> <span class="p">:</span> <span class="s1">&#39;IOM_Prod_Grid1&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>The authinfo file in the home directory for user Bob, with a password of BobsPW1 would have a line in it as follows:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">IOM_Prod_Grid1</span> <span class="n">user</span> <span class="n">Bob</span> <span class="n">password</span> <span class="n">BobsPW1</span>
</pre></div>
</div>
<div class="section" id="remote">
<h4>Remote<a class="headerlink" href="#remote" title="Permalink to this headline">¶</a></h4>
<p>A remote connection is defined as a connection to any Workspace Server on any SAS platform
from either a Unix or Windows client. This module does not connect to a SAS Metadata Server (OMR),
but rather connects directly to an Object Spawner to get access to a Workspace Server. If you already
access these with other SAS clients, like Enterprise Guide (EG), you may already be familiar with
connecting to OMR, but not directly to the others by host/port. There is information in the
<a class="reference internal" href="advanced-topics.html"><span class="doc">Advanced topics</span></a> section about using Proc iomoperate to find Object Spawners and Workspace
Server to get values for the three keys defined below (iomhost, iomport, appserver).</p>
<p>The following keys are available for the configuration definition dictionary:</p>
<dl class="docutils">
<dt>java    -</dt>
<dd>(Required) The path to the Java executable to use. For Linux, use a fully qualifed
path. On Windows, you might be able to simply enter <code class="docutils literal"><span class="pre">java</span></code>. If that is not successful,
enter the fully qualified path.</dd>
<dt>iomhost -</dt>
<dd>(Required) The resolvable host name, or IP address to the IOM object spawner.
New in 2.1.6; this can be a list of all the object spawners hosts if you have load balanced object spawners.
This provides Grid HA (High Availability)</dd>
<dt>iomport -</dt>
<dd>(Required) The port that object spawner is listening on for workspace server connections (workspace server port - not object spawner port!).</dd>
<dt>classpath -</dt>
<dd>(Required) The CLASSPATH to the IOM client JAR files and saspyiom.jar. These can be wherever. Just make sure the path is correct.
These jars work across platforms, so you can copy them from a Unix system to Windows or the other way too. Same with saspyiom.jar.</dd>
<dt>authkey -</dt>
<dd>The keyword that starts a line in the authinfo file containing user and or password for this connection.</dd>
<dt>omruser -</dt>
<dd>(<strong>Discouraged</strong>)  The user ID is required but if this field is left blank,
the user is <strong>prompted</strong> for a user ID at runtime, unless it&#8217;s found in the authinfo file.</dd>
<dt>omrpw  -</dt>
<dd>(<strong>Strongly discouraged</strong>) A password is required but if this field is left
blank, the user is <strong>prompted</strong> for a password at runtime, unless it&#8217;s found in the authinfo file.</dd>
<dt>encoding  -</dt>
<dd><p class="first">NOTE: as of saspy V2.4.2, you no longer need to set the encoding. SASpy
will determine the SAS session encoding and map that to the Python encoding for you.</p>
<p class="last">This is the Python encoding value that matches the SAS session encoding of
the IOM server to which you are connecting. The Python encoding values can be
found at <a class="reference external" href="https://docs.python.org/3.5/library/codecs.html#encodings-and-unicode">encodings-and-unicode</a>.
The three most common SAS encodings, UTF8, LATIN1, and WLATIN1 are the
default encodings for running SAS in Unicode, on Unix, and on Windows,
respectively. Those map to Python encoding values: utf8, latin1, and
windows-1252, respectively.</p>
</dd>
<dt>timeout -</dt>
<dd>Timeout value for establishing connection to workspace server</dd>
<dt>appserver -</dt>
<dd>If you have more than one AppServer defined on OMR, then you must pass the name of the physical workspace server
that you want to connect to, i.e.: &#8216;SASApp - Workspace Server&#8217;. Without this the Object spawner will only try the
first one in the list of app servers it supports.</dd>
<dt>sspi -</dt>
<dd>New in 2.17, there is support for IWA (Integrated Windows Authentication) from a Windows client to remote IOM server.
This is only for when your Workspace server is configured to use IWA as the authentication method, which is not the default.
This is simply a boolean, so to use it you specify &#8216;sspi&#8217; : True. Also, to use this, you must have the path to the
spiauth.dll file in your System Path variable, just like is required for Local IOM connections.
See the second paragraph under Local IOM for more on the spiauth.dll file.</dd>
<dt>autoexec -</dt>
<dd>This is a string of SAS code that will be submitted upon establishing a connection.
You can use this to preassign libraries you always want available, or whatever you want.
Don&#8217;t confuse this with the autoexec option of SAS which specifies a sas program file to be run.
That is different. This is a string of SAS code saspy will submit after the session is created,
which would be after SAS already included any autoexec file if there was one.</dd>
<dt>javaparms -</dt>
<dd>The javaparms option allows you to specify Java command line options. These aren&#8217;t generally needed, but this
does allows for a way to specify them if something was needed.</dd>
<dt>lrecl -</dt>
<dd>An integer specifying the record length for transferring wide data sets from SAS to Data Frames.</dd>
<dt>display -</dt>
<dd>This is a new key to support Zeppelin (saspy V2.4.4). The values can be either &#8216;jupyter&#8217; or &#8216;zeppelin&#8217;,
or, as of version 3.1.7, &#8216;databricks&#8217;. The default when this is not specified is &#8216;jupyter&#8217;.
Jupyter uses IPython to render HTML, which is how saspy has always worked.
To support other Notebooks display methods, different display interface have to be added to saspy.
If you want to run saspy in Zeppelin, set this in your configuration definition: &#8216;display&#8217; : &#8216;zeppelin&#8217;,</dd>
<dt>logbufsz -</dt>
<dd>see issue 266 for details on this. not needed normally</dd>
</dl>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="c1"># Unix client class path</span>
<span class="n">cpL</span>  <span class="o">=</span>  <span class="s2">&quot;/whever/I/put/these/jars/sas.svc.connection.jar&quot;</span>
<span class="n">cpL</span> <span class="o">+=</span> <span class="s2">&quot;:/whever/I/put/these/jars/log4j.jar&quot;</span>
<span class="n">cpL</span> <span class="o">+=</span> <span class="s2">&quot;:/whever/I/put/these/jars/sas.security.sspi.jar&quot;</span>
<span class="n">cpL</span> <span class="o">+=</span> <span class="s2">&quot;:/whever/I/put/these/jars/sas.core.jar&quot;</span>
<span class="n">cpL</span> <span class="o">+=</span> <span class="s2">&quot;:/whever/I/put/these/jars/saspyiom.jar&quot;</span>
<span class="c1">#cpL += &quot;:/usr/lib/python3.5/site-packages/saspy/java/saspyiom.jar&quot;</span>

<span class="c1"># Windows client class path</span>
<span class="n">cpW</span>  <span class="o">=</span>  <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">wherever</span><span class="se">\\</span><span class="s2">I</span><span class="se">\\</span><span class="s2">put</span><span class="se">\\</span><span class="s2">these</span><span class="se">\\</span><span class="s2">jars</span><span class="se">\\</span><span class="s2">sas.svc.connection.jar&quot;</span>
<span class="n">cpW</span> <span class="o">+=</span> <span class="s2">&quot;;C:</span><span class="se">\\</span><span class="s2">wherever</span><span class="se">\\</span><span class="s2">I</span><span class="se">\\</span><span class="s2">put</span><span class="se">\\</span><span class="s2">these</span><span class="se">\\</span><span class="s2">jars</span><span class="se">\\</span><span class="s2">log4j.jar&quot;</span>
<span class="n">cpW</span> <span class="o">+=</span> <span class="s2">&quot;;C:</span><span class="se">\\</span><span class="s2">wherever</span><span class="se">\\</span><span class="s2">I</span><span class="se">\\</span><span class="s2">put</span><span class="se">\\</span><span class="s2">these</span><span class="se">\\</span><span class="s2">jars</span><span class="se">\\</span><span class="s2">sas.security.sspi.jar&quot;</span>
<span class="n">cpW</span> <span class="o">+=</span> <span class="s2">&quot;;C:</span><span class="se">\\</span><span class="s2">wherever</span><span class="se">\\</span><span class="s2">I</span><span class="se">\\</span><span class="s2">put</span><span class="se">\\</span><span class="s2">these</span><span class="se">\\</span><span class="s2">jars</span><span class="se">\\</span><span class="s2">sas.core.jar&quot;</span>
<span class="c1">#cpW += &quot;;C:\\wherever\\I\\put\\these\\jars\\saspyiom.jar&quot;</span>
<span class="n">cpW</span> <span class="o">+=</span> <span class="s2">&quot;;C:</span><span class="se">\\</span><span class="s2">ProgramData</span><span class="se">\\</span><span class="s2">Anaconda3</span><span class="se">\\</span><span class="s2">Lib</span><span class="se">\\</span><span class="s2">site-packages</span><span class="se">\\</span><span class="s2">saspy</span><span class="se">\\</span><span class="s2">java</span><span class="se">\\</span><span class="s2">saspyiom.jar&quot;</span>

<span class="c1"># Unix client and Unix IOM server  NEW 2.1.6 - with load balanced object spawners</span>
<span class="n">iomlinux</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;java&#39;</span>      <span class="p">:</span> <span class="s1">&#39;/usr/bin/java&#39;</span><span class="p">,</span>
            <span class="s1">&#39;iomhost&#39;</span>   <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;linux.grid1.iom.host&#39;</span><span class="p">,</span><span class="s1">&#39;linux.grid2.iom.host&#39;</span><span class="p">,</span><span class="s1">&#39;linux.grid3.iom.host&#39;</span><span class="p">,</span><span class="s1">&#39;linux.grid4.iom.host&#39;</span><span class="p">],</span>
            <span class="s1">&#39;iomport&#39;</span>   <span class="p">:</span> <span class="mi">8591</span><span class="p">,</span>
            <span class="s1">&#39;encoding&#39;</span>  <span class="p">:</span> <span class="s1">&#39;latin1&#39;</span><span class="p">,</span>
            <span class="s1">&#39;classpath&#39;</span> <span class="p">:</span> <span class="n">cpL</span><span class="p">,</span>
            <span class="s1">&#39;appserver&#39;</span> <span class="p">:</span> <span class="s1">&#39;SASApp Prod - Workspace Server&#39;</span>
            <span class="p">}</span>

<span class="c1"># Unix client and Windows IOM server</span>
<span class="n">iomwin</span>   <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;java&#39;</span>      <span class="p">:</span> <span class="s1">&#39;/usr/bin/java&#39;</span><span class="p">,</span>
            <span class="s1">&#39;iomhost&#39;</span>   <span class="p">:</span> <span class="s1">&#39;windows.iom.host&#39;</span><span class="p">,</span>
            <span class="s1">&#39;iomport&#39;</span>   <span class="p">:</span> <span class="mi">8591</span><span class="p">,</span>
            <span class="s1">&#39;encoding&#39;</span>  <span class="p">:</span> <span class="s1">&#39;windows-1252&#39;</span><span class="p">,</span>
            <span class="s1">&#39;classpath&#39;</span> <span class="p">:</span> <span class="n">cpL</span><span class="p">,</span>
            <span class="s1">&#39;appserver&#39;</span> <span class="p">:</span> <span class="s1">&#39;SASApp Test - Workspace Server&#39;</span>
           <span class="p">}</span>

<span class="c1"># Windows client and Unix IOM server</span>
<span class="n">winiomlinux</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;java&#39;</span>      <span class="p">:</span> <span class="s1">&#39;java&#39;</span><span class="p">,</span>
               <span class="s1">&#39;iomhost&#39;</span>   <span class="p">:</span> <span class="s1">&#39;linux.iom.host&#39;</span><span class="p">,</span>
               <span class="s1">&#39;iomport&#39;</span>   <span class="p">:</span> <span class="mi">8591</span><span class="p">,</span>
               <span class="s1">&#39;encoding&#39;</span>  <span class="p">:</span> <span class="s1">&#39;latin1&#39;</span><span class="p">,</span>
               <span class="s1">&#39;classpath&#39;</span> <span class="p">:</span> <span class="n">cpW</span>
              <span class="p">}</span>

<span class="c1"># Windows client and Windows IOM server</span>
<span class="n">winiomwin</span>   <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;java&#39;</span>      <span class="p">:</span> <span class="s1">&#39;java&#39;</span><span class="p">,</span>
               <span class="s1">&#39;iomhost&#39;</span>   <span class="p">:</span> <span class="s1">&#39;windows.iom.host&#39;</span><span class="p">,</span>
               <span class="s1">&#39;iomport&#39;</span>   <span class="p">:</span> <span class="mi">8591</span><span class="p">,</span>
               <span class="s1">&#39;encoding&#39;</span>  <span class="p">:</span> <span class="s1">&#39;windows-1252&#39;</span><span class="p">,</span>
               <span class="s1">&#39;classpath&#39;</span> <span class="p">:</span> <span class="n">cpW</span>
              <span class="p">}</span>

<span class="c1"># Windows client and with IWA to Remote IOM server</span>
<span class="n">winiomIWA</span>   <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;java&#39;</span>      <span class="p">:</span> <span class="s1">&#39;java&#39;</span><span class="p">,</span>
               <span class="s1">&#39;iomhost&#39;</span>   <span class="p">:</span> <span class="s1">&#39;some.iom.host&#39;</span><span class="p">,</span>
               <span class="s1">&#39;iomport&#39;</span>   <span class="p">:</span> <span class="mi">8591</span><span class="p">,</span>
               <span class="s1">&#39;classpath&#39;</span> <span class="p">:</span> <span class="n">cpW</span><span class="p">,</span>
               <span class="s1">&#39;sspi&#39;</span>      <span class="p">:</span> <span class="bp">True</span>
              <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="local">
<h4>Local<a class="headerlink" href="#local" title="Permalink to this headline">¶</a></h4>
<p>A local connection is defined as a connection to SAS that is running on the same
Windows machine. You only need the following configuration definition keys. (Do not
specify any of the others).</p>
<p><strong>There is one additional requirement.</strong> The sspiauth.dll file&#8211;also included in
your SAS installation&#8211;must be in your system PATH environment variable, your
java.library.path, or in the home directory of your Java client. You can search
for this file in your SAS deployment, though it is likely
in SASHome\SASFoundation\9.4\core\sasext.</p>
<p>If you add the file to the system PATH environment variable, only list the path to
the directory&#8211;do not include the file itself. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">C</span><span class="p">:</span>\<span class="n">Program</span> <span class="n">Files</span>\<span class="n">SASHome</span>\<span class="n">SASFoundation</span>\<span class="mf">9.4</span>\<span class="n">core</span>\<span class="n">sasext</span>
</pre></div>
</div>
<p>Starting in version 2.4.1, there is a autocfg.py batch script available in saspy that
you can use to generate the sascfg_personal.py file for a Windows Local connection.
This script can also be run interactively. You can tell it the path/name of the file
you want it to create, tell it where your SASHome install directory it (if not in the default location).
And where to find java.exe, if java isn&#8217;t already in your path to be found.</p>
<p>The default takes no parameters and creates sascfg_personal.py in the saspy install directory
to be used immediately. That assumes SAS in installed in the default location and the java command can be found.</p>
<p>See the example notebook that shows the various ways to use this script in the saspy-examples
github site: <a class="reference external" href="https://github.com/sassoftware/saspy-examples/blob/master/SAS_contrib/autocfg.ipynb">https://github.com/sassoftware/saspy-examples/blob/master/SAS_contrib/autocfg.ipynb</a></p>
<dl class="docutils">
<dt>java      -</dt>
<dd>(Required) The path to the Java executable to use.</dd>
<dt>classpath -</dt>
<dd>(Required) The CLASSPATH to the IOM client JAR files and saspyiom.jar.</dd>
<dt>encoding  -</dt>
<dd><p class="first">NOTE: as of saspy V2.4.2, you no longer need to set the encoding. SASpy
will determine the SAS session encoding and map that to the Python encoding for you.</p>
<p class="last">This is the Python encoding value that matches the SAS session encoding of
the IOM server to which you are connecting. The Python encoding values can be
found at <a class="reference external" href="https://docs.python.org/3.5/library/codecs.html#encodings-and-unicode">encodings-and-unicode</a>.
The three most common SAS encodings, UTF8, LATIN1, and WLATIN1 are the
default encodings for running SAS in Unicode, on Unix, and on Windows,
respectively. Those map to Python encoding values: utf8, latin1, and
windows-1252, respectively.</p>
</dd>
<dt>autoexec -</dt>
<dd>This is a string of SAS code that will be submitted upon establishing a connection.
You can use this to preassign libraries you always want available, or whatever you want.
Don&#8217;t confuse this with the autoexec option of SAS which specifies a sas program file to be run.
That is different. This is a string of SAS code saspy will submit after the session is created,
which would be after SAS already included any autoexec file if there was one.</dd>
<dt>javaparms -</dt>
<dd>The javaparms option allows you to specify Java command line options. These aren&#8217;t generally needed, but this
does allows for a way to specify them if something was needed.</dd>
<dt>lrecl -</dt>
<dd>An integer specifying the record length for transferring wide data sets from SAS to Data Frames.</dd>
<dt>display -</dt>
<dd>This is a new key to support Zeppelin (saspy V2.4.4). The values can be either &#8216;jupyter&#8217; or &#8216;zeppelin&#8217;,
or, as of version 3.1.7, &#8216;databricks&#8217;. The default when this is not specified is &#8216;jupyter&#8217;.
Jupyter uses IPython to render HTML, which is how saspy has always worked.
To support other Notebooks display methods, different display interface have to be added to saspy.
If you want to run saspy in Zeppelin, set this in your configuration definition: &#8216;display&#8217; : &#8216;zeppelin&#8217;,</dd>
<dt>logbufsz -</dt>
<dd>see issue 266 for details on this. not needed normally</dd>
</dl>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="c1"># Windows client class path</span>
<span class="c1"># build out a local classpath variable to use below for Linux clients  CHANGE THE PATHS TO BE CORRECT FOR YOUR INSTALLATION</span>
<span class="n">cpW</span>  <span class="o">=</span>  <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">Program Files</span><span class="se">\\</span><span class="s2">SASHome</span><span class="se">\\</span><span class="s2">SASDeploymentManager</span><span class="se">\\</span><span class="s2">9.4</span><span class="se">\\</span><span class="s2">products</span><span class="se">\\</span><span class="s2">deploywiz__94472__prt__xx__sp0__1</span><span class="se">\\</span><span class="s2">deploywiz</span><span class="se">\\</span><span class="s2">sas.svc.connection.jar&quot;</span>
<span class="n">cpW</span> <span class="o">+=</span> <span class="s2">&quot;;C:</span><span class="se">\\</span><span class="s2">Program Files</span><span class="se">\\</span><span class="s2">SASHome</span><span class="se">\\</span><span class="s2">SASDeploymentManager</span><span class="se">\\</span><span class="s2">9.4</span><span class="se">\\</span><span class="s2">products</span><span class="se">\\</span><span class="s2">deploywiz__94472__prt__xx__sp0__1</span><span class="se">\\</span><span class="s2">deploywiz</span><span class="se">\\</span><span class="s2">log4j.jar&quot;</span>
<span class="n">cpW</span> <span class="o">+=</span> <span class="s2">&quot;;C:</span><span class="se">\\</span><span class="s2">Program Files</span><span class="se">\\</span><span class="s2">SASHome</span><span class="se">\\</span><span class="s2">SASDeploymentManager</span><span class="se">\\</span><span class="s2">9.4</span><span class="se">\\</span><span class="s2">products</span><span class="se">\\</span><span class="s2">deploywiz__94472__prt__xx__sp0__1</span><span class="se">\\</span><span class="s2">deploywiz</span><span class="se">\\</span><span class="s2">sas.security.sspi.jar&quot;</span>
<span class="n">cpW</span> <span class="o">+=</span> <span class="s2">&quot;;C:</span><span class="se">\\</span><span class="s2">Program Files</span><span class="se">\\</span><span class="s2">SASHome</span><span class="se">\\</span><span class="s2">SASDeploymentManager</span><span class="se">\\</span><span class="s2">9.4</span><span class="se">\\</span><span class="s2">products</span><span class="se">\\</span><span class="s2">deploywiz__94472__prt__xx__sp0__1</span><span class="se">\\</span><span class="s2">deploywiz</span><span class="se">\\</span><span class="s2">sas.core.jar&quot;</span>
<span class="n">cpW</span> <span class="o">+=</span> <span class="s2">&quot;;C:</span><span class="se">\\</span><span class="s2">ProgramData</span><span class="se">\\</span><span class="s2">Anaconda3</span><span class="se">\\</span><span class="s2">Lib</span><span class="se">\\</span><span class="s2">site-packages</span><span class="se">\\</span><span class="s2">saspy</span><span class="se">\\</span><span class="s2">java</span><span class="se">\\</span><span class="s2">saspyiom.jar&quot;</span>


<span class="c1"># Windows client and Local Windows IOM server</span>
<span class="n">winlocal</span>    <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;java&#39;</span>      <span class="p">:</span> <span class="s1">&#39;java&#39;</span><span class="p">,</span>
               <span class="s1">&#39;encoding&#39;</span>  <span class="p">:</span> <span class="s1">&#39;windows-1252&#39;</span><span class="p">,</span>
               <span class="s1">&#39;classpath&#39;</span> <span class="p">:</span> <span class="n">cpW</span>
              <span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Having the <code class="docutils literal"><span class="pre">'java'</span></code> key is the trigger to use the IOM access method.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When using the IOM access method (<code class="docutils literal"><span class="pre">'java'</span></code> key specified), the
absence of the <code class="docutils literal"><span class="pre">'iomhost'</span></code> key is the trigger to use a local Windows
session instead of remote IOM (it is a different connection type).</p>
</div>
</div>
<div class="section" id="iom-to-mvs-sas">
<h4>IOM to MVS SAS<a class="headerlink" href="#iom-to-mvs-sas" title="Permalink to this headline">¶</a></h4>
<p>Yes, you can even connect to a SAS server running on MVS (Mainframe SAS).
There are a couple of requirements for this to work right. First, you need version 2.1.5 or higher of this module.
There were a couple tweaks I needed to make to the IOM access method and those are in 2.1.5.</p>
<p>Also, you need to use the HFS file system for the WORK (and/or USER) library and you also need to set the default file
system to HFS so temporary files used by this module use HFS instead of the native MVS file system. You can still access
the native file system in the code you run, but for internal use, this module needs to access the HFS file system.
To set the default file system (options filesystem=hfs;) you can either set it in the workspace severs config file,
or you can submit the options statement from your python code after making a connection:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sas</span> <span class="o">=</span> <span class="n">saspy</span><span class="o">.</span><span class="n">SASsession</span><span class="p">()</span>
<span class="n">ll</span>  <span class="o">=</span> <span class="n">sas</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="s1">&#39;options filesystem=hfs;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The other thing is to set the encoding correctly for this to work. MVS is an EBCDIC system, not ASCII. For the most part,
this is all handled in IOM for you, but there is a small amount of transcoding required internally in this module. The
default encoding on MVS is OPEN_ED-1047, although it can be set to any number of other EBCDIC encodings. The default Python
encodings do not include the 1047 code page. I did find a &#8216;cp1047&#8217; code page in a separate pip installable module which
seems to match the OPEN_ED-1047 code page.</p>
<p>At the time of this writing, the only transcoding I need to do in python for this to work can be accomplished using the
&#8216;cp500&#8217; encoding which is part of the default set, so you don&#8217;t have to install other modules. It&#8217;s possible this could
change in the future, but I don&#8217;t have any expectations of that for now, so using &#8216;cp500&#8217; is ok if you don&#8217;t want to
install other non-standard python modules.</p>
</div>
</div>
<div class="section" id="iom-using-com">
<h3>IOM using COM<a class="headerlink" href="#iom-using-com" title="Permalink to this headline">¶</a></h3>
<p>New in 3.1.0, this user contributed access method uses Windows COM to connect to the SAS IOM provider. It is similar to the other IOM access method,
but there is no Java dependency. Connections from Windows clients to local and remote SAS 9.4 hosts are supported.</p>
<p>SAS Enterprise Guide or SAS Integration Technologies Client (a free download from SAS support) is required to install the SAS COM library on your client system.</p>
<p>The COM access method requires a Python module that saspy, in general, does not; pypiwin32  If you do not have this already installed before trying to use the COM
access method, you will likely see an error similar to this when trying to establish a connection. Just install that modules to solve this.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sas</span><span class="o">=</span><span class="n">saspy</span><span class="o">.</span><span class="n">SASsession</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
  File <span class="nb">&quot;/opt/tom/github/saspy/saspy/sasbase.py&quot;</span>, line <span class="m">360</span>, in <span class="n">__init__</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_io</span> <span class="o">=</span> <span class="n">SASSessionCOM</span><span class="p">(</span><span class="n">sascfgname</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sascfg</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">sb</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
  File <span class="nb">&quot;/opt/tom/github/saspy/saspy/sasiocom.py&quot;</span>, line <span class="m">197</span>, in <span class="n">__init__</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_startsas</span><span class="p">()</span>
  File <span class="nb">&quot;/opt/tom/github/saspy/saspy/sasiocom.py&quot;</span>, line <span class="m">212</span>, in <span class="n">_startsas</span>
    <span class="n">factory</span> <span class="o">=</span> <span class="n">dynamic</span><span class="o">.</span><span class="n">Dispatch</span><span class="p">(</span><span class="s1">&#39;SASObjectManager.ObjectFactoryMulti2&#39;</span><span class="p">)</span>
<span class="gr">NameError</span>: <span class="n">name &#39;dynamic&#39; is not defined</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>To connect to a remote SAS server, you must specify the IOM host name and port number. The Class Identifier is also required, but is a constant which will be
prpvided on your behalf (starting in V3.1.4). The Class Identifier is a 32-character GUID that indicates the type of SAS server to connect to; in this case Workspace Server.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">proc</span> <span class="n">iomoperate</span><span class="p">;</span>
    <span class="nb">list</span> <span class="n">types</span><span class="p">;</span>
<span class="n">run</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">SAS</span> <span class="n">Workspace</span> <span class="n">Server</span>
    <span class="n">Short</span> <span class="nb">type</span> <span class="n">name</span>  <span class="p">:</span> <span class="n">Workspace</span>
    <span class="n">Class</span> <span class="n">identifier</span> <span class="p">:</span> <span class="mi">440196</span><span class="n">d4</span><span class="o">-</span><span class="mi">90</span><span class="n">f0</span><span class="o">-</span><span class="mi">11</span><span class="n">d0</span><span class="o">-</span><span class="mi">9</span><span class="n">f41</span><span class="o">-</span><span class="mi">00</span><span class="n">a024bb830c</span>  <span class="o">/*</span> <span class="n">this</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">constant</span> <span class="n">that</span> <span class="n">doesn</span><span class="s1">&#39;t change */</span>
</pre></div>
</div>
<p>To connect to a local SAS instance, do not specify the <code class="docutils literal"><span class="pre">iomhost</span></code> paramter. Local connections do not require a host, port, class_id.
Any specified port or class_id parameters will be ignored. Likewise, and provided username or password values are ignored on local connections.</p>
<dl class="docutils">
<dt>iomhost -</dt>
<dd>The resolvable host name, or IP address to the IOM object spawner. Only required for remote connections. Don&#8217;t specify for local connections.</dd>
<dt>iomport -</dt>
<dd>The port that object spawner is listening on for workspace server connections (workspace server port - not object spawner port!). Only required for remote connections. Don&#8217;t specify for local connections.</dd>
<dt>class_id -</dt>
<dd>This value turns out to be a constant which hasn&#8217;t changed in years and probably never will. So, you shouldn&#8217;t need to specify this. The value of
&#8216;440196d4-90f0-11d0-9f41-00a024bb830c&#8217; will be used by default. Though you can specify it explitly here to override the default; but you should never need to.
The IOM workspace server class identfier. Use <code class="docutils literal"><span class="pre">PROC</span> <span class="pre">IOMOPERATE</span></code> to identify the correct value for your configuration.</dd>
<dt>provider -</dt>
<dd>(Required) The SAS IOM Data Provider is an OLE DB data provider that supports access to SAS data sets that are managed by SAS Integrated Object Model (IOM) servers. The &#8216;sas.iomprovider&#8217; provider is recommended.</dd>
<dt>authkey -</dt>
<dd>The keyword that starts a line in the authinfo file containing user and or password for this connection. See the IOM using Java above for more info.</dd>
<dt>omruser -</dt>
<dd>(<strong>Discouraged</strong>) The user ID is required but if this field is left blank,
the user is <strong>prompted</strong> for a user ID at runtime, unless it&#8217;s found in the authinfo file.</dd>
<dt>omrpw  -</dt>
<dd>(<strong>Strongly discouraged</strong>) A password is required but if this field is left
blank, the user is <strong>prompted</strong> for a password at runtime, unless it&#8217;s found in the authinfo file.</dd>
<dt>encoding  -</dt>
<dd><p class="first">NOTE: as of saspy V2.4.2, you no longer need to set the encoding. SASpy
will determine the SAS session encoding and map that to the Python encoding for you.</p>
<p class="last">This is the Python encoding value that matches the SAS session encoding of
the IOM server to which you are connecting. The Python encoding values can be
found at <a class="reference external" href="https://docs.python.org/3.5/library/codecs.html#encodings-and-unicode">encodings-and-unicode</a>.
The three most common SAS encodings, UTF8, LATIN1, and WLATIN1 are the
default encodings for running SAS in Unicode, on Unix, and on Windows,
respectively. Those map to Python encoding values: utf8, latin1, and
windows-1252, respectively.</p>
</dd>
</dl>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="n">iomcom</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;iomhost&#39;</span><span class="p">:</span> <span class="s1">&#39;mynode.mycompany.org&#39;</span><span class="p">,</span>
    <span class="s1">&#39;iomport&#39;</span><span class="p">:</span> <span class="mi">8591</span><span class="p">,</span>
    <span class="s1">&#39;class_id&#39;</span><span class="p">:</span> <span class="s1">&#39;440196d4-90f0-11d0-9f41-00a024bb830c&#39;</span><span class="p">,</span>
    <span class="s1">&#39;provider&#39;</span><span class="p">:</span> <span class="s1">&#39;sas.iomprovider&#39;</span><span class="p">,</span>
    <span class="s1">&#39;encoding&#39;</span><span class="p">:</span> <span class="s1">&#39;windows-1252&#39;</span><span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Having the <code class="docutils literal"><span class="pre">'provider'</span></code> key is the trigger to use the COM (IOM using COM) access method.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When using the COM access method (<code class="docutils literal"><span class="pre">'provider'</span></code> key specified), the
absence of the <code class="docutils literal"><span class="pre">'iomhost'</span></code> key is the trigger to use a local Windows
session instead of remote IOM (it is a different connection type).</p>
</div>
</div>
<div class="section" id="http">
<h3>HTTP<a class="headerlink" href="#http" title="Permalink to this headline">¶</a></h3>
<p>This is the access method for Viya. It does not connect to SAS 9.4. This access method accesses the Compute (micro) Service
of a SAS Viya deployment. The Compute Service launches Compute Servers, which are MVA SAS sessions found in the SPRE deployment
of the Viya installation. This is the equivalent of an IOM Workspace server, but in a Viya deployment.
So, it is still connecting to MVA SAS and all of the methods behave the same as they would with any other saspy access method.</p>
<p>The keys for this configuration definition dictionary are:</p>
<dl class="docutils">
<dt>ip -</dt>
<dd>(Required) The resolvable host name, or IP address to the Viya Compute Service</dd>
<dt>port -</dt>
<dd>(Optional) The port to use to connect to the Compute Service. This will default to either 80 or 443 based upon the ssl key.</dd>
<dt>ssl -</dt>
<dd>(Optional) Boolean identifying whether to use HTTPS (ssl=True) or just HTTP. The default is True and will default to port 443 if
the port is not specified. If set to False, it will default to port 80, if the port is not specified.
Note that depending upon the version of python, certificate verification may or may not be required, later version are more strict.
See the python doc for your version if this is a concern.</dd>
<dt>verify -</dt>
<dd>(Optional) Also note that if Viya uses the default self signed ssl certificates it ships with, you will not be able to verify them,
but that can be fine, and you can still use an ssl connection. You can use set &#8216;verify&#8217; : False, in your config to
turn off verification for this case.</dd>
<dt>authkey -</dt>
<dd>(Optional) The keyword that starts a line in the authinfo file containing user and or password for this connection. See the IOM using Java above for more info.</dd>
<dt>user -</dt>
<dd>(<strong>Discouraged</strong>)  The user ID is required but if this field is left blank,
the user is <strong>prompted</strong> for a user ID at runtime, unless it&#8217;s found in the authinfo file.</dd>
<dt>pw  -</dt>
<dd>(<strong>Strongly discouraged</strong>) A password is required but if this field is left
blank, the user is <strong>prompted</strong> for a password at runtime, unless it&#8217;s found in the authinfo file.</dd>
<dt>context -</dt>
<dd>(Optional) The Compute Service has different Contexts that you can connect to. Think Appserver in IOM.
if you don&#8217;t provide one here, saspy will query the Service upon connecting and get a list of available Contexts and
prompt you for which one to use.</dd>
<dt>options -</dt>
<dd>(Optional) SAS options to include when connecting. These <strong>must</strong> be a Python list.</dd>
<dt>encoding -</dt>
<dd><p class="first">(Optional)
NOTE: you no longer need to set the encoding. SASpy
will determine the SAS session encoding and map that to the Python encoding for you.</p>
<p class="last">This is the Python encoding value that matches the SAS session encoding
of the SAS session to which you are connecting. The Python encoding
values can be found at <a class="reference external" href="https://docs.python.org/3.5/library/codecs.html#encodings-and-unicode">encodings-and-unicode</a>.
The three most common SAS encodings, UTF8, LATIN1, and WLATIN1 are the
default encodings for running SAS in Unicode, on Unix, and on Windows,
respectively. Those map to Python encoding values: utf8, latin1, and
windows-1252, respectively.</p>
</dd>
<dt>autoexec -</dt>
<dd>(Optional) This is a string of SAS code that will be submitted upon establishing a connection.
You can use this to preassign libraries you always want available, or whatever you want.
Don&#8217;t confuse this with the autoexec option of SAS which specifies a sas program file to be run.
That is different. This is a string of SAS code saspy will submit after the session is created,
which would be after SAS already included any autoexec file if there was one.</dd>
<dt>lrecl -</dt>
<dd>(Optional) An integer specifying the record length for transferring wide data sets from SAS to Data Frames.</dd>
<dt>display -</dt>
<dd>This is a new key to support Zeppelin (saspy V2.4.4). The values can be either &#8216;jupyter&#8217; or &#8216;zeppelin&#8217;,
or, as of version 3.1.7, &#8216;databricks&#8217;. The default when this is not specified is &#8216;jupyter&#8217;.
Jupyter uses IPython to render HTML, which is how saspy has always worked.
To support other Notebooks display methods, different display interface have to be added to saspy.
If you want to run saspy in Zeppelin, set this in your configuration definition: &#8216;display&#8217; : &#8216;zeppelin&#8217;,</dd>
</dl>
<div class="highlight-ipython3"><div class="highlight"><pre><span></span><span class="n">httpsviya</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ip&#39;</span>      <span class="p">:</span> <span class="s1">&#39;sastpw.rndk8s.openstack.sas.com&#39;</span><span class="p">,</span>
             <span class="s1">&#39;context&#39;</span> <span class="p">:</span> <span class="s1">&#39;Data Mining compute context&#39;</span>
             <span class="s1">&#39;authkey&#39;</span> <span class="p">:</span> <span class="s1">&#39;viya_user-pw&#39;</span><span class="p">,</span>
             <span class="s1">&#39;options&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;fullstimer&quot;</span><span class="p">,</span> <span class="s2">&quot;memsize=1G&quot;</span><span class="p">]</span>
             <span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Having the <code class="docutils literal"><span class="pre">'ip'</span></code> key is the trigger to use the HTTP access method.</p>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="getting-started.html" class="btn btn-neutral float-right" title="Getting started" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="overview.html" class="btn btn-neutral" title="Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018 SAS Institute Inc. All Rights Reserved..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'3.1.8',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>